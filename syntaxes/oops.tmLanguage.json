{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "oops",
	"patterns": [
		{
			"include": "#root"
		}
	],
	"repository": {
		"root": {
			"patterns": [
				{
					"include": "#comments"
				},
				{
					"include": "#imports"
				},
				{
					"include": "#classes"
				}
			]
		},
		"instructions": {
			"patterns": [
				{
					"include": "#strings"
				},
				{
					"include": "#chars"
				},
				{
					"include": "#patched"
				},
				{
					"include": "#keywords"
				},
				{
					"include": "#storages"
				},
				{
					"include": "#constants"
				}
			]
		},
		"keywords": {
			"patterns": [
				{
					"name": "keyword.control.oops",
					"match": "\\b(break|case|catch|continue|default|do|else|finally|for|goto|if|new|return|switch|throw|try|using|while)\\b"
				},
				{
					"name": "keyword.control.import.oops",
					"match": "\\b(import)\\b"
				},
				{
					"name": "keyword.operator.oops",
					"match": "(?:>>>=)|(?:\\+\\+)|(?:\\?\\.)|(?:\\|\\|)|(?:\\+=)|(?:\\|=)|(?:<<=)|(?:>>=)|(?:>>>)|(?:\\^=)|(?:\\*=)|(?:\\.)|(?:\\+)|(?:&&)|(?:&=)|(?:\\|)|(?:<<)|(?:>>)|(?:\\^)|(?:->)|(?:--)|(?:\\/=)|(?:==)|(?:=>)|(?:>=)|(?:<=)|(?:%=)|(?:\\*)|(?:!=)|(?:::)|(?:-=)|(?:\\?)|(?:&)|(?:~)|(?::)|(?:,)|(?:\\/)|(?:=)|(?:>)|(?:<)|(?:!)|(?:%)|(?:-)"
				}
			]
		},
		"storages": {
			"patterns": [
				{
					"name": "storage.type.class.oops",
					"match": "\\b(class|enum|interface)\\b"
				},
				{
					"name": "storage.type.function.oops",
					"match": "\\b(def|get|set|operator)\\b"
				},
				{
					"name": "storage.type.method.oops",
					"match": "\\b(def|get|set|operator)\\b"
				},
				{
					"include": "#primitives"
				},
				{
					"name": "storage.modifier.access.oops",
					"match": "\\b(intrinsic|native|package|private|protected|public)\\b"
				},
				{
					"name": "storage.modifier.variable.oops",
					"match": "\\b(final|static)\\b"
				}
			]
		},
		"strings": {
			"name": "string.quoted.double.oops",
			"begin": "\"",
			"end": "\"",
			"patterns": [
				{
					"name": "constant.character.escape.oops",
					"match": "\\\\."
				}
			]
		},
		"chars": {
			"name": "string.quoted.single.oops",
			"begin": "'",
			"end": "'",
			"patterns": [
				{
					"name": "constant.character.escape.oops",
					"match": "\\\\."
				}
			]
		},
		"patched": {
			"patterns": [
				{
					"name": "variable.language.this.oops",
					"match": "\\bthis\\b"
				},
				{
					"name": "variable.language.super.oops",
					"match": "\\bsuper\\b"
				},
				{
					"name": "variable.language.sub.oops",
					"match": "\\bsub\\b"
				}
			]
		},
		"constants": {
			"patterns": [
				{
					"name": "constant.language.true.oops",
					"match": "\\b(true)\\b"
				},
				{
					"name": "constant.language.false.oops",
					"match": "\\b(false)\\b"
				},
				{
					"name": "constant.language.null.oops",
					"match": "\\b(null)\\b"
				},
				{
					"name": "constant.numeric.integer.decimal.oops",
					"match": "\\b(0)\\b"
				},
				{
					"name": "constant.numeric.integer.decimal.oops",
					"match": "\\b([\\-+]?[1-9]\\d*(?:i?))\\b"
				},
				{
					"name": "constant.numeric.integer.binary.oops",
					"match": "\\b([\\-+]?0b[01]+(?:i?))\\b"
				},
				{
					"name": "constant.numeric.integer.hexadecimal.oops",
					"match": "\\b([\\-+]?0x[0-9a-fA-F]+(?:i?))\\b"
				},
				{
					"name": "constant.numeric.float.oops",
					"match": "\\b([\\-+]?\\d+[eE][\\-+]?\\d+[dDfF]?)\\b"
				},
				{
					"name": "constant.numeric.float.oops",
					"match": "\\b([\\-+]?\\d+\\.\\d+[dDfF]?)\\b"
				},
				{
					"name": "constant.numeric.float.oops",
					"match": "\\b([\\-+]?\\d+\\.\\d+[eE][\\-+]?\\d+[dDfF]?)\\b"
				}
			]
		},
		"comments": {
			"patterns": [
				{
					"name": "comment.line.double-slash.oops",
					"match": "\\/\\/.*$"
				},
				{
					"name": "comment.block.oops",
					"begin": "\\/\\*",
					"end": "\\*\\/"
				}
			]
		},
		"primitives": {
			"patterns": [
				{
					"name": "storage.type.primitive.oops",
					"match": "\\b(boolean|byte|short|int|float|long|double)(?:\\s*\\[])?\\b"
				}
			]
		},
		"validType": {
			"patterns": [
				{
					"include": "#primitives"
				},
				{
					"match": "(void|auto)",
					"name": "invalid.illegal.oops"
				},
				{
					"include": "#reifiedType"
				},
				{
					"match": "([a-zA-Z_][a-zA-Z0-9_]*)(?:\\s*\\[])?",
					"name": "entity.name.class.oops"
				}
			]
		},
		"classType": {
			"patterns": [
				{
					"match": "^(void|auto|boolean|byte|short|int|float|long|double)$",
					"name": "invalid.illegal.oops"
				},
				{
					"include": "reifiedType"
				},
				{
					"match": "([a-zA-Z_][a-zA-Z0-9_]*)(?:\\s*\\[])?",
					"name": "entity.name.class.oops"
				}
			]
		},
		"reifiedType": {
			"begin": "([a-zA-Z_][a-zA-Z0-9_]*)\\s*<",
			"end": ">(?:\\s*\\[])?",
			"beginCaptures": {
				"1": {
					"name": "entity.name.class.oops"
				}
			},
			"patterns": [
				{
					"include": "#validType"
				}
			]
		},
		"typeDecl": {
			"patterns": [
				{
					"begin": "([a-zA-Z_][a-zA-Z0-9_]*)\\s+(sub|super)\\s+([a-zA-Z_][a-zA-Z0-9_]*)\\s*<",
					"end": ">",
					"patterns": [
						{
							"include": "#validType"
						}
					],
					"beginCaptures": {
						"1": {
							"name": "entity.name.type.oops"
						},
						"2": {
							"name": "storage.modifier.bound.oops"
						},
						"3": {
							"patterns": [
								{
									"include": "#classType"
								}
							]
						}
					}
				},
				{
					"match": "([a-zA-Z_][a-zA-Z0-9_]*)\\s+(sub|super)\\s+([a-zA-Z_][a-zA-Z0-9_]*)",
					"captures": {
						"1": {
							"name": "entity.name.type.oops"
						},
						"2": {
							"name": "storage.modifier.bound.oops"
						},
						"3": {
							"patterns": [
								{
									"include": "#classType"
								}
							]
						}
					}
				},
				{
					"match": "[a-zA-Z_][a-zA-Z0-9_]*",
					"name": "entity.name.type.oops"
				}
			]
		},
		"imports": {
			"match": "(import)\\s+([a-zA-Z_][a-zA-Z0-9_]*\\.)*([a-zA-Z_][a-zA-Z0-9_]*)",
			"captures": {
				"1": {
					"name": "keyword.control.import.oops"
				},
				"3": {
					"name": "entity.name.class.oops"
				}
			}
		},
		"classes": {
			"patterns": [
				{
					"begin": "(?:(final)\\s+)?(class|interface)\\s+",
					"end": "}",
					"name": "meta.class.oops",
					"patterns": [
						{
							"begin": "([a-zA-Z_][a-zA-Z0-9_]*)\\s*<",
							"end": ">",
							"beginCaptures": {
								"1": {
									"name": "entity.name.class.oops"
								}
							},
							"patterns": [
								{
									"include": "#typeDecl"
								}
							]
						},
						{
							"begin": ":\\s*",
							"end": "(?=::|{)",
							"patterns": [
								{
									"include": "#classType",
									"name": "entity.other.inherited-class.oops"
								}
							]
						},
						{
							"begin": "::\\s*",
							"end": "(?={)",
							"patterns": [
								{
									"include": "#classType",
									"name": "entity.other.inherited-class.oops"
								}
							]
						},
						{
							"begin": "{",
							"end": "(?=})",
							"patterns": [
								{
									"include": "#methods"
								},
								{
									"include": "#classVariables"
								},
								{
									"include": "#classes"
								}
							]
						}
					],
					"beginCaptures": {
						"1": {
							"name": "storage.modifier.lookup.oops"
						},
						"2": {
							"name": "storage.type.class.oops"
						}
					}
				}
			]
		},
		"classVariables": {
			"begin": "(private|package|protected|public)\\s+(?:(static)\\s+)?(?:(final)\\s+)?",
			"end": ";",
			"beginCaptures": {
				"1": {
					"name": "storage.modifier.access.oops"
				},
				"2": {
					"name": "storage.modifier.lookup.oops"
				},
				"3": {
					"name": "storage.modifier.modifiable.oops"
				}
			},
			"patterns": [
				{
					"begin": "(.*?)\\s*=",
					"end": "(?=;)",
					"beginCaptures": {
						"1": {
							"patterns": [
								{
									"match": "(?:([a-zA-Z_].*>)(?:\\s*\\[])\\s*|([a-zA-Z_][a-zA-Z0-9_]*)(?:\\s*\\[]|\\s)\\s*)([a-zA-Z_][a-zA-Z0-9_]*)",
									"captures": {
										"1": {
											"patterns": [
												{
													"include": "#reifiedType"
												}
											]
										},
										"2": {
											"patterns": [
												{
													"include": "#validType"
												}
											]
										},
										"3": {
											"name": "variable.name.oops"
										}
									}
								}
							]
						}
					}
				},
				{
					"match": "(?:([a-zA-Z_].*>)(?:\\s*\\[])\\s*|([a-zA-Z_][a-zA-Z0-9_]*)(?:\\s*\\[]|\\s)\\s*)([a-zA-Z_][a-zA-Z0-9_]*)",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#reifiedType"
								}
							]
						},
						"2": {
							"patterns": [
								{
									"include": "#validType"
								}
							]
						},
						"3": {
							"name": "variable.name.oops"
						}
					}
				}
			]
		},
		"methods": {
			"patterns": [
				{
					"begin": "(private|package|protected|public)\\s+(?:(static|final)\\s+)?(def)\\s+(.*?)\\s*\\(",
					"end": "}|;",
					"patterns": [
						{
							"name": "meta.method.oops",
							"patterns": [
								{
									"include": "#argDecl"
								},
								{
									"include": "#argDeclEnd"
								}
							]
						}
					],
					"beginCaptures": {
						"1": {
							"name": "storage.modifier.access.oops"
						},
						"2": {
							"name": "storage.modifier.lookup.oops"
						},
						"3": {
							"name": "storage.type.function.oops"
						},
						"4": {
							"patterns": [
								{
									"begin": "([a-zA-Z_][a-zA-Z0-9_]*)\\s*<",
									"end": ">",
									"patterns": [
										{
											"include": "#typeDecl"
										}
									],
									"beginCaptures": {
										"1": {
											"name": "entity.name.function.oops"
										}
									}
								},
								{
									"match": "([a-zA-Z_][a-zA-Z0-9_]*)",
									"name": "entity.name.function.oops"
								}
							]
						}
					}
				}
			]
		},
		"argDecl": {
			"patterns": [
				{
					"begin": "([a-zA-Z_][a-zA-Z0-9_]*)\\s*<",
					"end": ">\\s*([a-zA-Z_][a-zA-Z0-9_]*)",
					"beginCaptures": {
						"1": {
							"patterns": [
								{
									"include": "#classType"
								}
							]
						}
					},
					"endCaptures": {
						"1": {
							"name": "variable.parameter.oops"
						}
					},
					"patterns": [
						{
							"include": "#validType"
						}
					]
				},
				{
					"match": "([a-zA-Z_][a-zA-Z0-9_]*)\\s+([a-zA-Z_][a-zA-Z0-9_]*)",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#validType"
								}
							]
						},
						"2": {
							"name": "variable.parameter.oops"
						}
					}
				}
			]
		},
		"argDeclEnd": {
			"patterns": [
				{
					"begin": "\\)\\s*->\\s*(.*?)\\s*{",
					"end": "(?=})",
					"beginCaptures": {
						"1": {
							"patterns": [
								{
									"match": "(?<=\\b)void(?=\\b)",
									"name": "storage.type.primitive.oops"
								},
								{
									"include": "#validType"
								}
							]
						}
					},
					"name":"argEnd",
					"patterns": [
						{
							"match": "(.*+)",
							"name":"meta.function.body.oops"
						}
					]
				},
				{
					"match": "\\)\\s*->\\s*(.*?)\\s*(?=;)",
					"captures": {
						"1": {
							"patterns": [
								{
									"match": "(?<=\\b)void(?=\\b)",
									"name": "storage.type.primitive.oops"
								},
								{
									"include": "#validType"
								}
							]
						}
					}
				}
			]
		}
	},
	"scopeName": "source.oops"
}